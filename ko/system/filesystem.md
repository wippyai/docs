# 파일시스템

디렉토리 및 임베디드 파일시스템 접근.

## 엔트리 종류

| Kind | 설명 |
|------|-------------|
| `fs.directory` | 디렉토리 기반 파일시스템 |
| `fs.embed` | 읽기 전용 임베디드 파일시스템 |

## 디렉토리 파일시스템

```yaml
- name: uploads
  kind: fs.directory
  directory: "/var/data/uploads"
  auto_init: true
  mode: "0755"
```

| 필드 | 타입 | 기본값 | 설명 |
|-------|------|---------|-------------|
| `directory` | string | 필수 | 루트 경로 |
| `auto_init` | bool | false | 없으면 디렉토리 생성 |
| `mode` | string | 0755 | Unix 권한 모드 (8진수) |

모드는 모든 파일 작업을 제한합니다. 읽기 비트가 있으면 실행 비트가 자동으로 추가됩니다.

<note>
경로는 정규화되고 검증됩니다. 설정된 루트 디렉토리 외부의 파일에 접근하는 것은 불가능합니다.
</note>

## 임베디드 파일시스템

```yaml
- name: static
  kind: fs.embed
```

임베디드 파일시스템은 엔트리 ID를 사용하여 팩 리소스에서 로드합니다. 읽기 전용입니다.

<warning>
임베디드 파일시스템은 내부 메커니즘입니다. 수동 설정은 일반적으로 필요하지 않습니다.
</warning>

## 작업

두 파일시스템 타입 모두 다음을 구현합니다:

| 작업 | 디렉토리 | 임베드 |
|-----------|-----------|-------|
| Open/Read | 예 | 예 |
| Stat | 예 | 예 |
| ReadDir | 예 | 예 |
| OpenFile (쓰기) | 예 | 아니오 |
| Remove | 예 | 아니오 |
| Mkdir | 예 | 아니오 |

임베디드 파일시스템에서의 쓰기 작업은 에러를 반환합니다.

## Lua API

파일 작업은 [파일시스템 모듈](lua/storage/filesystem.md)을 참조하세요.
